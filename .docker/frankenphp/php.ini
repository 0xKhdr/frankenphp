; ========================
; CORE
; ========================
[PHP]
memory_limit = 2G
max_execution_time = 30
max_input_vars = 5000
realpath_cache_size = 32M
realpath_cache_ttl = 7200
expose_php = Off
zend.exception_ignore_args = On

; ========================
; OPcache (TMPFS-Backed)
; ========================
[opcache]
opcache.enable = 1
opcache.enable_cli = 0
opcache.memory_consumption = 1024
opcache.interned_strings_buffer = 128
opcache.max_accelerated_files = 100000
opcache.validate_timestamps = 0
opcache.save_comments = 0
opcache.fast_shutdown = 1
opcache.huge_code_pages = 1
opcache.file_cache = /tmp/opcache
opcache.file_cache_only = 0
opcache.file_cache_consistency_checks = 0
opcache.jit = tracing
opcache.jit_buffer_size = 512M

; ========================
; SESSION (Redis)
; ========================
[Session]
session.save_handler = redis
session.save_path = "tcp://redis:6379?prefix=session_&timeout=1.5"
session.use_strict_mode = 1
session.gc_probability = 0

; ========================
; SECURITY
; ========================
[Security]
disable_functions = exec,passthru,shell_exec,system,proc_open,popen
opcache.protect_memory = 1

; ========================
; MYSQL/MYSQLI
; ========================
[MySQL]
mysqlnd.collect_memory_statistics = Off
mysqli.reconnect = Off